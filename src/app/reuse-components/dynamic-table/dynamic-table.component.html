<div *ngIf="!dataSource" class="d-flex justify-content-center align-items-center no_data_height">
    <img class="text-bottom" width="500" height="300" src="assets/images/Data_not_found.png">
</div>
<div class="table">
    <table class="w-100" mat-table [dataSource]="dataSource" matSort #mytable>
        <ng-container *ngFor="let column of getDisplayedColumns()" [matColumnDef]="column">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
                <strong> {{ ( routeParam + '.' +  column) | translate }} </strong>
            </th>
            <td mat-cell *matCellDef="let element;">

                <div [ngSwitch]="element[column].type">
                    
                    <input *ngSwitchCase="'text'" matInput [disabled]="element[column].disabled"
                        [value]="element[column].value" [(ngModel)]="element[column].value" (input)="formControlValid(column, element[column].value, dataSource.filteredData.indexOf(element));"/>

                    <mat-select *ngSwitchCase="'dropdown'"  [(ngModel)]="element[column].value" (selectionChange)="formControlValid(column, element[column].value, dataSource.filteredData.indexOf(element));">
                        <mat-option *ngFor="let data of element[column].list" [value]="data[element[column].id]">
                            <span *ngIf="element[column].displayMul;else content">
                                {{data[element[column].id]}} - {{data[element[column].text]}}
                            </span>
                            <ng-template #content> {{data[element[column].text]}} </ng-template>
                        </mat-option>
                    </mat-select>
                    <mat-icon *ngSwitchCase="'delete'" [hidden]="dataSource.filteredData.indexOf(element) == (dataSource.data.length - 1)" class="cursor--pointer delete-icon"
                    (click)="deleteRow(dataSource.filteredData.indexOf(element))">delete</mat-icon>

                </div>
 
            </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="getDisplayedColumns()"></tr>
        <tr mat-row *matRowDef="let row; columns: getDisplayedColumns();"></tr>
    </table>
</div>
<mat-paginator [pageSizeOptions]="[15 ,25, 50, 100]" showFirstLastButtons></mat-paginator>
