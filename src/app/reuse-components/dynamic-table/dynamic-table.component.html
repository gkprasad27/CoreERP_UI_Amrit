<div *ngIf="!dataSource" class="d-flex justify-content-center align-items-center">
    <img class="text-bottom" width="500" height="300" src="assets/images/Data_not_found.png">
</div>
<div class="table">
    <table class="w-100" mat-table [dataSource]="dataSource" matSort #mytableb cellspacing="0" cellpadding="0">
        <ng-container *ngFor="let column of getDisplayedColumns()" [matColumnDef]="column">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
                <strong> {{ ( routeParam + '.' +  column) | translate }} </strong>
            </th>
            <td mat-cell *matCellDef="let element;" [ngSwitch]="element[column].type">

                <input *ngSwitchCase="'text'" matInput [disabled]="element[column].disabled"
                    [value]="element[column].value" [(ngModel)]="element[column].value"
                    (input)="formControlValid(column, element[column], dataSource.filteredData.indexOf(element));" />

                <input *ngSwitchCase="'number'" matInput type="number" [disabled]="element[column].disabled"
                    [value]="element[column].value" [(ngModel)]="element[column].value"
                    (input)="formControlValid(column, element[column], dataSource.filteredData.indexOf(element));" />

                <mat-select *ngSwitchCase="'dropdown'" [(ngModel)]="element[column].value"
                    (selectionChange)="formControlValid(column, element[column], dataSource.filteredData.indexOf(element));">
                    <mat-option *ngFor="let data of element[column].list" [value]="data[element[column].id]">
                        <span *ngIf="element[column].displayMul;else content">
                            {{data[element[column].id]}} - {{data[element[column].text]}}
                        </span>
                        <ng-template #content> {{data[element[column].text]}} </ng-template>
                    </mat-option>
                </mat-select>

                <div *ngSwitchCase="'datepicker'" class="d-flex">
                    <input matInput [matDatepicker]="picker" readonly (click)="picker.open()"
                        [(ngModel)]="element[column].value"
                        (dateChange)="formControlValid(column, element[column], dataSource.filteredData.indexOf(element));">
                    <mat-datepicker-toggle matSuffix [for]="picker">
                        <mat-icon matDatepickerToggleIcon class="mat--icon">date_range</mat-icon>
                    </mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </div>

                <app-autocomplete *ngSwitchCase="'autocomplete'" [configData]="element[column]"
                    (emitTypeAheadValue)="setTypeAheadValue($event, column, dataSource.filteredData.indexOf(element));">
                </app-autocomplete>

                <div *ngSwitchDefault>
                    <span> {{ element[column].value }} </span>
                </div>

                <mat-icon *ngSwitchCase="'delete'"
                    [hidden]="dataSource.filteredData.indexOf(element) == (dataSource.data.length - 1)"
                    class="cursor--pointer mat--icon" (click)="deleteRow(dataSource.filteredData.indexOf(element))">
                    delete</mat-icon>


            </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="getDisplayedColumns()"></tr>
        <tr mat-row *matRowDef="let row; columns: getDisplayedColumns();"></tr>
    </table>
</div>
<mat-paginator [pageSizeOptions]="[15 ,25, 50, 100]" showFirstLastButtons></mat-paginator>
