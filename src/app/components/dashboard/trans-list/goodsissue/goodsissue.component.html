<mat-card>

  <mat-card-content>

    <form [formGroup]="formData" autocomplete="off">

      <h6>
        Material Data
        <hr>
      </h6>

      <div class="d--flex p-1 mat-form-field-height">

        <mat-form-field>

          <mat-label>{{ 'goodsissue.company' | translate }}</mat-label>
          <mat-select formControlName="company" tabIndex="1">
            <mat-option>None</mat-option>
            <mat-option *ngFor="let comp of companyList" [value]="comp.id">
              {{comp.text}}
            </mat-option>
          </mat-select>

        </mat-form-field>

        <!-- <mat-form-field>
          <mat-label>{{'goodsissue.plant' | translate }}</mat-label>
          <mat-select formControlName="plant" appFocusOnEnter tabIndex="2">
            <mat-option>None</mat-option>
            <mat-option *ngFor="let plant of plantList" [value]="plant.id">
              {{plant.text}}
            </mat-option>
          </mat-select>
        </mat-form-field> -->

        <mat-form-field>
          <mat-label>{{'goodsissue.storesPerson' | translate }}</mat-label>
          <mat-select formControlName="storesPerson" appFocusOnEnter tabIndex="3">
            <mat-option>None</mat-option>
            <mat-option *ngFor="let emp of employeesList" [value]="emp.id">
              {{emp.id}}- {{emp.text}}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field>
          <mat-label>{{'goodsissue.department' | translate }}</mat-label>
          <mat-select formControlName="department" appFocusOnEnter tabIndex="4">
            <mat-option>None</mat-option>
            <mat-option *ngFor="let dept of fdeptList" [value]="dept.code">
              {{dept.description}}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <!-- <mat-slide-toggle class="d-flex m-3" formControlName="saleOrder" (change)="toggle($event.checked)">
          Sale Order
        </mat-slide-toggle> -->

        <mat-form-field>
          <mat-label>{{'goodsissue.poType' | translate }}</mat-label>
          <mat-select formControlName="saleOrder" appFocusOnEnter tabIndex="4" (selectionChange)="toggle()">
            <mat-option>None</mat-option>
            <mat-option value="Sale Order"> Sale Order </mat-option>
            <mat-option value="Master Saleorder"> Master Saleorder </mat-option>
            <mat-option value="Bill of Material"> Bill of Material </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field>
          <mat-label>{{'goodsissue.saleOrderNumber' | translate }}</mat-label>
          <mat-select formControlName="saleOrderNumber" appFocusOnEnter tabIndex="5"
            (selectionChange)="getSaleOrderDetail()">
            <mat-option>None</mat-option>
            <mat-option *ngFor="let mreq of mreqList" [value]="mreq.saleOrderNo">
              {{mreq.saleOrderNo}}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field>
          <mat-label>{{'goodsissue.productionPerson' | translate }}</mat-label>
          <mat-select formControlName="productionPerson" appFocusOnEnter tabIndex="3">
            <mat-option>None</mat-option>
            <mat-option *ngFor="let emp of employeesList" [value]="emp.id">
              {{emp.id}}- {{emp.text}}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <!-- <mat-form-field>
          <mat-label>{{'goodsissue.movementType' | translate }}</mat-label>
          <mat-select formControlName="movementType" appFocusOnEnter tabIndex="6">
            <mat-option>None</mat-option>
            <mat-option *ngFor="let movement of movementList" [value]="movement.code">
              {{movement.description}}
            </mat-option>
          </mat-select>
        </mat-form-field> -->
        <!-- <mat-form-field class="form-element">
          <mat-label [translate]="'goodsissue.status'"></mat-label>
          <input matInput formControlName="status" appFocusOnEnter
            tabIndex="7">
        </mat-form-field> -->
      </div>
    </form>

    <div class="p-2 card">

      <h6>
       Material Details
        <hr>
      </h6>

      <form [formGroup]="formData1" autocomplete="off">



        <div class="d--flex p-1 mat-form-field-height justify-content-between align-items-end">


          <div>
            <mat-form-field class="form-element">
              <mat-label [translate]="'goodsissue.qty'"></mat-label>
              <input matInput type="number" readonly formControlName="qty" appFocusOnEnter tabIndex="12">
            </mat-form-field>
            <mat-form-field class="form-element">
              <mat-label [translate]="'goodsissue.availableqty'"></mat-label>
              <input matInput type="number" readonly formControlName="availableqty" appFocusOnEnter tabIndex="12">
            </mat-form-field>
            <mat-form-field class="form-element">
              <mat-label [translate]="'goodsissue.allocatedqty'"></mat-label>
              <input matInput type="number" formControlName="allocatedqty" appFocusOnEnter tabIndex="12"
                (change)="allocatedqtyChange()">
            </mat-form-field>
          </div>


          <div class="mb-3">

            <button mat-raised-button type="submit" class="button-color-bule mx-1 text-white" (click)="saveForm()">
              {{ 'COMMON.UPDATE' | translate }}
            </button>
            <button mat-raised-button class="button-color-red text-white mx-1" (click)="resetForm();">
              {{ 'COMMON.RESET' | translate }}
            </button>

          </div>


        </div>

      </form>

      <div>
        <app-table class="table-css" [tableData]="tableData" [showFilters]="false"
          (editOrDeleteEvent)="editOrDeleteEvent($event)">
        </app-table>
      </div>
    </div>



  </mat-card-content>
  <mat-card-content class="d-flex justify-content-end py-1">

    <button  mat-raised-button type="submit" class="button-color-bule mx-3 text-white"
      (click)="save()">
      {{ 'COMMON.SAVE' | translate }}
    </button>
    <button [hidden]="routeEdit != ''" mat-raised-button class="button-color-red text-white mx-3" (click)="reset();">
      {{ 'COMMON.RESET' | translate }}
    </button>
    <button mat-raised-button class="button-color-red text-white mx-3" (click)="back();">
      {{ 'COMMON.BACK' | translate }}
    </button>
    <button [hidden]="routeEdit == ''" mat-raised-button class="button-color-red text-white mx-3" (click)="return();">
      {{ 'COMMON.RETURN' | translate }}
    </button>

  </mat-card-content>

</mat-card>