<div class="bg-white">

  <mat-tab-group>

    <form [formGroup]="modelFormData" autocomplete="off">

      <mat-tab label="{{'materialsmaster.title' | translate }}">

        <mat-card-content class="py-5 p-2 m-0">

          <div class="d--flex">
            <mat-form-field>
              <mat-label [translate]="'materialsmaster.company'"></mat-label>
              <mat-select formControlName="company" appFocusOnEnter tabIndex="1">
                <mat-option>None</mat-option>
                <mat-option *ngFor="let comp of companyList" [value]="comp.id">
                  {{comp.text}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field>
              <mat-label>{{'materialsmaster.plant' | translate }}</mat-label>
              <mat-select formControlName="plant" appFocusOnEnter tabIndex="2">
                <mat-option>None</mat-option>
                <mat-option *ngFor="let plant of plantsList" [value]="plant.id">
                  {{plant.text}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field>
              <mat-label>{{'materialsmaster.materialType' | translate }}</mat-label>
              <mat-select formControlName="materialType" appFocusOnEnter tabIndex="3">
                <mat-option>None</mat-option>
                <mat-option *ngFor="let mtype of matypeList" [value]="mtype.code">
                  {{mtype.description}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field class="form-element" [ngClass]="{ 'ng--valid': formControls.materialCode.valid && formControls.materialCode.status != 'DISABLED',
            'ng--invalid': !formControls.materialCode.valid && formControls.materialCode.status != 'DISABLED'  }">
              <mat-label [translate]="'materialsmaster.materialCode'"> </mat-label>
              <input matInput formControlName="materialCode" maxlength="50" appFocusOnEnter tabIndex="3">
              <mat-error
                *ngIf="isSubmitted && !formControls.materialCode.valid && formControls.materialCode.status != 'DISABLED'"
                [ngClass]="{ 'ng--invalid': !formControls.materialCode.valid  }">Material Code is required</mat-error>
            </mat-form-field>




            <mat-form-field class="form-element">
              <mat-label [translate]="'materialsmaster.description'"></mat-label>
              <input matInput formControlName="description" maxlength="500" appFocusOnEnter tabIndex="5">
            </mat-form-field>

            <mat-form-field>
              <mat-label>{{'materialsmaster.materialGroup' | translate }}</mat-label>
              <mat-select formControlName="materialGroup" appFocusOnEnter tabIndex="6">
                <mat-option>None</mat-option>
                <mat-option *ngFor="let mgroup of magroupList" [value]="mgroup.groupKey">
                  {{mgroup.description}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field>
              <mat-label>{{'materialsmaster.size' | translate }}</mat-label>
              <mat-select formControlName="size" appFocusOnEnter tabIndex="7">
                <mat-option>None</mat-option>
                <mat-option *ngFor="let size of msizeList" [value]="size.unitId">
                  {{size.unitName}}
                </mat-option>
              </mat-select>
            </mat-form-field>

         
            <div class="multiselect-dropdown-list" >
              <ng-multiselect-dropdown 
                  placeholder="{{ 'purchaseorder.modelPattern' | translate }}" formControlName="modelPattern"
                  [settings]="dropdownSettings" [data]="mpatternList">
              </ng-multiselect-dropdown>
            </div>

            <mat-form-field>
              <mat-label>{{'materialsmaster.uom' | translate }}</mat-label>
              <mat-select formControlName="uom" appFocusOnEnter tabIndex="9">
                <mat-option>None</mat-option>
                <mat-option *ngFor="let uom of UomList" [value]="uom.id">
                  {{uom.text}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field>
              <mat-label>{{'materialsmaster.division' | translate }}</mat-label>
              <mat-select formControlName="division" appFocusOnEnter tabIndex="10">
                <mat-option>None</mat-option>
                <mat-option *ngFor="let division of divisionsList" [value]="division.code">
                  {{division.description}}
                </mat-option>
              </mat-select>
            </mat-form-field>



            <mat-form-field class="form-element">
              <mat-label [translate]="'materialsmaster.grossWeight'"></mat-label>
              <input matInput formControlName="grossWeight" maxlength="12" appFocusOnEnter tabIndex="11">
            </mat-form-field>

            <!-- <mat-form-field class="form-element">
              <mat-label [translate]="'materialsmaster.ouom'"></mat-label>
              <input matInput formControlName="ouom"
                maxlength="12" appFocusOnEnter tabIndex="12">
            </mat-form-field> -->

            <mat-form-field>
              <mat-label>{{'materialsmaster.ouom' | translate }}</mat-label>
              <mat-select formControlName="ouom" appFocusOnEnter tabIndex="12">
                <mat-option>None</mat-option>
                <mat-option *ngFor="let uom of UomList" [value]="uom.id">
                  {{uom.text}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field class="form-element">
              <mat-label [translate]="'materialsmaster.netWeight'"></mat-label>
              <input matInput formControlName="netWeight" maxlength="12" appFocusOnEnter tabIndex="13">
            </mat-form-field>


            <mat-form-field>
              <mat-label>{{'materialsmaster.netWeightUom' | translate }}</mat-label>
              <mat-select formControlName="netWeightUom" appFocusOnEnter tabIndex="14">
                <mat-option>None</mat-option>
                <mat-option *ngFor="let uom of UomList" [value]="uom.id">
                  {{uom.text}}
                </mat-option>
              </mat-select>
            </mat-form-field>


            <mat-form-field class="form-element">
              <mat-label [translate]="'materialsmaster.partDragNo'"></mat-label>
              <input matInput formControlName="partDragNo" appFocusOnEnter tabIndex="15">
            </mat-form-field>

            <mat-form-field class="form-element">
              <mat-label [translate]="'materialsmaster.dragRevNo'"></mat-label>
              <input matInput formControlName="dragRevNo" appFocusOnEnter tabIndex="16">
            </mat-form-field>

            <mat-form-field class="form-element">
              <mat-label [translate]="'materialsmaster.dimentions'"></mat-label>
              <input matInput formControlName="dimentions" appFocusOnEnter tabIndex="18">
            </mat-form-field>


            <!-- <div class="mat-mdc-form-field typeahead mx-3" >
              <input placeholder="{{ 'COMMON.CUSTOMERCODE' | translate }}" formControlName="customerName"
                [typeahead]="customerList" typeaheadOptionField='text' appFocusOnEnter tabIndex="17"
                class="form-control typeahead" [typeaheadItemTemplate]="customItemTemplate">
              <ng-template #customItemTemplate let-model="item">
                <span><strong>{{model.id}}</strong> - {{model.text}}</span>
              </ng-template>
            </div> -->

            <!-- <div class="mat-mdc-form-field typeahead mx-3" >
              <input placeholder="{{ 'materialsmaster.bomnumber' | translate }}" formControlName="bomName"
                [typeahead]="qnoList" typeaheadOptionField='text' appFocusOnEnter tabIndex="18"
                class="form-control typeahead" [typeaheadItemTemplate]="customItemTemplate1">
              <ng-template #customItemTemplate1 let-model="item">
                <span><strong>{{model.bomnumber}}</strong> - {{model.text}}</span>
              </ng-template>
            </div> -->

            <!-- <mat-form-field class="form-element">
              <mat-label [translate]="'materialsmaster.bomnumber'"></mat-label>
              <input matInput formControlName="bom" appFocusOnEnter tabIndex="18">
            </mat-form-field> -->

            <div class="mx-2">
              <label> {{ 'materialsmaster.fileUpload' | translate }} </label>
              <app-file-upload [type]="'card'" [oldFileList]="modelFormData.value.fileUpload"
                (uploadFile)="downLoadFile($event)" (emitFilesList)="emitFilesList($event)"></app-file-upload>
            </div>



          </div>
          <mat-divider></mat-divider>
        </mat-card-content>

      </mat-tab>

      <mat-tab label="Purchasing">

        <mat-card-content class="py-5 p-2 m-0">
          <div class="d--flex">

            <mat-form-field>
              <mat-label>{{'materialsmaster.purchasingGroup' | translate }}</mat-label>
              <mat-select formControlName="purchasingGroup" appFocusOnEnter tabIndex="14">
                <mat-option>None</mat-option>
                <mat-option *ngFor="let pcgroup of PCGroupsList" [value]="pcgroup.pruchaseGroup">
                  {{pcgroup.description}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field class="form-element">
              <mat-label [translate]="'materialsmaster.purchaseOrderText'"></mat-label>
              <input matInput formControlName="purchaseOrderText" maxlength="50" appFocusOnEnter tabIndex="15">
            </mat-form-field>

          </div>
        </mat-card-content>

      </mat-tab>

      <mat-tab label="Inventory Level">
        <mat-card-content class="py-5 p-2 m-0">
          <div class="d--flex">
            <mat-form-field class="form-element">
              <mat-label [translate]="'materialsmaster.minLevel'"></mat-label>
              <input matInput formControlName="minLevel" maxlength="12" appFocusOnEnter tabIndex="16">
            </mat-form-field>
            <mat-form-field class="form-element">
              <mat-label [translate]="'materialsmaster.maxLevel'"></mat-label>
              <input matInput formControlName="maxLevel" maxlength="12" appFocusOnEnter tabIndex="17">
            </mat-form-field>
            <mat-form-field class="form-element">
              <mat-label [translate]="'materialsmaster.reOrderLevel'"></mat-label>
              <input matInput formControlName="reOrderLevel" maxlength="12" appFocusOnEnter tabIndex="18">
            </mat-form-field>
            <mat-form-field class="form-element">
              <mat-label [translate]="'materialsmaster.dangerLevel'"></mat-label>
              <input matInput formControlName="dangerLevel" maxlength="12" appFocusOnEnter tabIndex="19">
            </mat-form-field>
            <mat-form-field class="form-element">
              <mat-label [translate]="'materialsmaster.economicOrderQty'"></mat-label>
              <input matInput formControlName="economicOrderQty" maxlength="12" appFocusOnEnter tabIndex="20">
            </mat-form-field>
            <mat-form-field class="form-element">
              <mat-label [translate]="'materialsmaster.reorderPoint'"></mat-label>
              <input matInput formControlName="reorderPoint" maxlength="12" appFocusOnEnter tabIndex="21">
            </mat-form-field>

          </div>
        </mat-card-content>
      </mat-tab>

      <mat-tab label="Accounting Date">

        <mat-card-content class="py-5 p-2 m-0">
          <div class="d--flex">
            <mat-form-field>
              <mat-label>{{'materialsmaster.valuation' | translate }}</mat-label>
              <mat-select formControlName="valuation" appFocusOnEnter tabIndex="22">
                <mat-option>None</mat-option>
                <mat-option *ngFor="let act of valuation" [value]="act.value">
                  {{act.viewValue}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field class="form-element">
              <mat-label [translate]="'materialsmaster.openingQty'"></mat-label>
              <input matInput formControlName="openingQty" maxlength="50" (change)="calculation()" appFocusOnEnter
                tabIndex="23">
            </mat-form-field>

            <mat-form-field class="form-element">
              <mat-label [translate]="'materialsmaster.closingQty'"></mat-label>
              <input matInput formControlName="closingQty" maxlength="50" (change)="closingqtycalculation()"
                appFocusOnEnter tabIndex="24">
            </mat-form-field>
            <mat-form-field class="form-element">
              <mat-label [translate]="'materialsmaster.transferPrice'"></mat-label>
              <input matInput formControlName="transferPrice" maxlength="50" appFocusOnEnter tabIndex="25">
            </mat-form-field>

            <mat-form-field class="form-element">
              <mat-label [translate]="'materialsmaster.openingPrice'"></mat-label>
              <input matInput formControlName="openingPrice" (change)="calculation()" maxlength="50" appFocusOnEnter
                tabIndex="26">
            </mat-form-field>
            <mat-form-field class="form-element">
              <mat-label [translate]="'materialsmaster.openingValue'"></mat-label>
              <input matInput formControlName="openingValue"  maxlength="50" appFocusOnEnter
                tabIndex="26">
            </mat-form-field>
            <mat-form-field class="form-element">
              <mat-label [translate]="'materialsmaster.closingPrice'"></mat-label>
              <input matInput formControlName="closingPrice" (change)="closingqtycalculation()" maxlength="50"
                appFocusOnEnter tabIndex="26">
            </mat-form-field>
            <mat-form-field class="form-element">
              <mat-label [translate]="'materialsmaster.closingValue'"></mat-label>
              <input matInput formControlName="closingValue" readonly="readonly" maxlength="50" appFocusOnEnter
                tabIndex="26">
            </mat-form-field>
          </div>
        </mat-card-content>

      </mat-tab>

      <mat-tab label="TAX Data">

        <mat-card-content class="py-5 p-2 m-0">
          <div class="d--flex">

            <mat-form-field>
              <mat-label>{{'materialsmaster.hsnsac' | translate }}</mat-label>
              <mat-select formControlName="hsnsac" appFocusOnEnter tabIndex="26">
                <mat-option>None</mat-option>
                <mat-option *ngFor="let hsn of hsnsacList" [value]="hsn.id">
                  {{hsn.text}}
                </mat-option>
              </mat-select>
            </mat-form-field>



            <mat-form-field>
              <mat-label>{{'materialsmaster.classification' | translate }}</mat-label>
              <mat-select formControlName="classification" appFocusOnEnter tabIndex="27">
                <mat-option>None</mat-option>
                <mat-option *ngFor="let class of classification" [value]="class.value">
                  {{class.viewValue}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field>
              <mat-label>{{'materialsmaster.taxable' | translate }}</mat-label>
              <mat-select formControlName="taxable" appFocusOnEnter tabIndex="28">
                <mat-option>None</mat-option>
                <mat-option *ngFor="let tax of taxable" [value]="tax.value">
                  {{tax.viewValue}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field>
              <mat-label>{{'materialsmaster.schedule' | translate }}</mat-label>
              <mat-select formControlName="schedule" appFocusOnEnter tabIndex="29">
                <mat-option>None</mat-option>
                <mat-option *ngFor="let schedule of schedule" [value]="schedule.value">
                  {{schedule.viewValue}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field class="form-element">
              <mat-label [translate]="'materialsmaster.chapter'"></mat-label>
              <input matInput formControlName="chapter" maxlength="20" appFocusOnEnter tabIndex="30">
            </mat-form-field>

            <mat-form-field class="form-element">
              <mat-label [translate]="'materialsmaster.goodsServiceDescription'"></mat-label>
              <input matInput formControlName="goodsServiceDescription" maxlength="20" appFocusOnEnter tabIndex="31">
            </mat-form-field>

          </div>
        </mat-card-content>

      </mat-tab>

      <mat-tab label="QC Configurations">

        <mat-card-content class="py-5 p-2 m-0">

          <app-standard-rate-o [materialCode]="formData.item ? materialCode : modelFormData.value.materialCode">
          </app-standard-rate-o>

        </mat-card-content>

      </mat-tab>

    </form>

  </mat-tab-group>

  <div class="form-element p-2 d-flex justify-content-end">
    <button mat-raised-button class="button-color-red text-white mx-1" (click)="cancel()" appFocusOnEnter tabIndex="21">
      {{ 'COMMON.CANCEL' | translate }}
    </button>
    <button mat-raised-button type="submit" class="button-color-bule text-white mx-1" (click)="save()" appFocusOnEnter
      tabIndex="22">
      {{ 'COMMON.SAVE' | translate }}
    </button>
  </div>

</div>