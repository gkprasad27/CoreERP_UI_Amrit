<div class="bg-white">


  <mat-tab-group>

    <form [formGroup]="modelFormData" autocomplete="off">

      <mat-tab label="{{'mainassetmaster.title' | translate }}">

        <mat-card-content class="py-5 p-2 m-0">

          <div class="d--flex">

            <mat-form-field>
              <mat-label [translate]="'mainassetmaster.company'"></mat-label>
              <mat-select formControlName="company" appFocusOnEnter tabIndex="1">
                <mat-option *ngFor="let comp of companyList" [value]="comp.companyCode">
                  {{comp.companyCode}} - {{comp.companyName}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field>
              <mat-label [translate]="'mainassetmaster.assetclass'"></mat-label>
              <mat-select formControlName="assetclass" (selectionChange)="getassetNumberData()" appFocusOnEnter
                tabIndex="2">
                <mat-option *ngFor="let asset of assetList" [value]="asset.code">
                  {{asset.code}} - {{asset.description}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field class="form-element"
              [ngClass]="{ 'ng--valid': formControls.assetNumber.valid, 'ng--invalid': !formControls.assetNumber.valid  }">
              <mat-label [translate]="'mainassetmaster.assetNumber'"></mat-label>
              <input matInput formControlName="assetNumber"
                maxlength="7" (change)="onChange($event)" appFocusOnEnter tabIndex="3">
              <mat-error *ngIf="!formControls.assetNumber.valid"
                [ngClass]="{ 'ng--invalid': !formControls.assetNumber.valid  }"> Code is required</mat-error>
            </mat-form-field>

            <mat-form-field class="form-element"
              [ngClass]="{ 'ng--valid': formControls.name.valid, 'ng--invalid': !formControls.name.valid  }">
              <mat-label [translate]="'mainassetmaster.name'"></mat-label>
              <input matInput formControlName="name"
                maxlength="50" appFocusOnEnter tabIndex="4">
              <mat-error *ngIf="!formControls.name.valid" [ngClass]="{ 'ng--invalid': !formControls.name.valid  }"> Name
                is required</mat-error>
            </mat-form-field>

            <mat-form-field class="form-element">
              <mat-label [translate]="'mainassetmaster.name'"></mat-label>
              <input matInput formControlName="name"
                maxlength="50" appFocusOnEnter tabIndex="5">
            </mat-form-field>

            <mat-form-field>
              <mat-label [translate]="'mainassetmaster.accountKey'"></mat-label>
              <mat-select formControlName="accountKey" appFocusOnEnter tabIndex="6">
                <mat-option *ngFor="let ackey of acckeyList" [value]="ackey.code">
                  {{ackey.code}}- {{ackey.description}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field class="form-element">
              <mat-label [translate]="'mainassetmaster.materialNo'"></mat-label>
              <input matInput formControlName="materialNo"
                maxlength="50" appFocusOnEnter tabIndex="7">
            </mat-form-field>

            <mat-form-field class="form-element">
              <mat-label [translate]="'mainassetmaster.quantity'"></mat-label>
              <input matInput formControlName="quantity"
                maxlength="50" appFocusOnEnter tabIndex="8">
            </mat-form-field>

            <mat-form-field class="form-element">
              <mat-label [translate]="'mainassetmaster.serialNo'"></mat-label>
              <input matInput formControlName="serialNo"
                maxlength="50" appFocusOnEnter tabIndex="9">
            </mat-form-field>

            <mat-form-field>
              <mat-label>{{'mainassetmaster.branch' | translate }}</mat-label>
              <mat-select formControlName="branch" appFocusOnEnter tabIndex="10">
                <mat-option *ngFor="let branch of branchesList" [value]="branch.branchCode">
                  {{branch.branchCode}} - {{branch.branchName}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field>
              <mat-label>{{'mainassetmaster.profitCenter' | translate }}</mat-label>
              <mat-select formControlName="profitCenter" appFocusOnEnter tabIndex="11">
                <mat-option *ngFor="let profit of profitCenterList" [value]="profit.code">
                  {{profit.code}} - {{profit.description}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field>
              <mat-label>{{'mainassetmaster.segment' | translate }}</mat-label>
              <mat-select formControlName="segment" appFocusOnEnter tabIndex="12">
                <mat-option *ngFor="let seg of segmentList" [value]="seg.id">
                  {{seg.id}} - {{seg.name}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field>
              <mat-label>{{'mainassetmaster.division' | translate }}</mat-label>
              <mat-select formControlName="division" appFocusOnEnter tabIndex="13">
                <mat-option *ngFor="let div of divisionsList" [value]="div.code">
                  {{div.code}} - {{div.description}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field>
              <mat-label>{{'mainassetmaster.plant' | translate }}</mat-label>
              <mat-select formControlName="plant" appFocusOnEnter tabIndex="14">
                <mat-option *ngFor="let pnt of plantList" [value]="pnt.plantCode">
                  {{pnt.plantCode}} - {{pnt.plantname}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field>
              <mat-label>{{'mainassetmaster.location' | translate }}</mat-label>
              <mat-select formControlName="location" appFocusOnEnter tabIndex="15">
                <mat-option *ngFor="let loc of locationList" [value]="loc.locationId">
                  {{loc.locationId}} - {{loc.description}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field class="form-element">
              <mat-label [translate]="'mainassetmaster.room'"></mat-label>
              <input matInput formControlName="room"
                maxlength="50" appFocusOnEnter tabIndex="16">
            </mat-form-field>

            <mat-form-field class="form-element">
              <mat-label [translate]="'mainassetmaster.supplier'"></mat-label>
              <input matInput formControlName="supplier"
                maxlength="50" appFocusOnEnter tabIndex="17">
            </mat-form-field>

            <mat-form-field>
              <mat-label [translate]="'mainassetmaster.acquisitionDate'"></mat-label>
              <input matInput [matDatepicker]="picker3"
                formControlName="acquisitionDate" appFocusOnEnter tabIndex="18">
              <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
              <mat-datepicker #picker3></mat-datepicker>
            </mat-form-field>

            <mat-form-field class="form-element">
              <mat-label [translate]="'mainassetmaster.usefulLifeYears'"></mat-label>
              <input matInput
                formControlName="usefulLifeYears" maxlength="5" appFocusOnEnter tabIndex="19">
            </mat-form-field>

            <mat-form-field class="form-element">
              <mat-label [translate]="'mainassetmaster.usefulLifeDays'"></mat-label>
              <input matInput
                formControlName="usefulLifeDays" maxlength="6" appFocusOnEnter tabIndex="20">
            </mat-form-field>

          </div>

        </mat-card-content>

      </mat-tab>
      <mat-tab label="Depreciation Data">
        <app-dynamic-table [tableObJect]="dynTableProps" (emitColumnChanges)="emitColumnChanges($event);"
          [dynamicTableUpdate]="sendDynTableData"></app-dynamic-table>
      </mat-tab>
    </form>

  </mat-tab-group>
  <div class="form-element p-2 d-flex justify-content-end">
    <button mat-raised-button class="button-color-red text-white mx-1" (click)="cancel()" appFocusOnEnter tabIndex="21">
      {{ 'COMMON.CANCEL' | translate }}
    </button>
    <button mat-raised-button type="submit" class="button-color-bule text-white mx-1" (click)="save()" appFocusOnEnter
      tabIndex="22">
      {{ 'COMMON.SAVE' | translate }}
    </button>
  </div>

</div>